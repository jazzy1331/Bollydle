<!doctype html>
<html lang="en">
    <head>
        <title>Bollydle</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="songData.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
        <script src="https://kit.fontawesome.com/c8bf3332ba.js" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    </head>
    </head>
    <body class="bg-dark">
        
        <!-- Top of page Header -->
        <div class="container">
            <div class="row">
              <div class="col">
                
                <!-- Button trigger modal -->
                <button type="button" class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#infoModal">
                  <h3 class="fa-solid fa-circle-info text-left text-light mt-3"></h3>
                </button>

                <!-- Modal -->
                <div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content text-bg-dark">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Information</h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        <p>Each day, you can guess the Bollywood song from a short clip. Try and guess in as few tries as possible, and share your results with your friends to see who knows Bollywood music best. Songs range from Bollywood movies released between 2001-2022.</p>
                        <br>
                        <p>This game was created by <a href="https://www.linkedin.com/in/jasmohan-bawa/">Jas Bawa</a> as a fun side project. If you find any issues with the game, or have any suggestions, please reach out to <a href="mailto:bollydle@bawa.io">bollydle@bawa.io</a></p>
                        <br>
                        <p>Bollydle is inspired by <a href="http://heardle.app">Heardle</a>, but is not affiliated with Heardle, Spotify, or SoundCloud. All music rights to their respective owners.</p>
                        <br>
                        <p>Credits to Chandu for the game name!</p>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                      </div>
                    </div>
                  </div>
                </div>


              </div>
              <div class="col">
                <h1 class="text-center text-light mt-2">Bollydle</h1>
              </div>
              <div class="col text-end">

                <!-- Button trigger modal -->
                <button type="button" class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#statsModal">
                  <h3 class="fa-solid fa-medal text-light text-end mt-3"></h3>
                </button>

                <!-- Modal -->
                <div class="modal fade" id="statsModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content text-bg-dark">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Stats</h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        <!-- Stats Line -->
                        <div class="text-center">
                          <div class="m-3" style="display: inline-block">
                            <h3 id="playedStat" style="position:relative">0</h3>
                            <p style="position:relative">Games<br>Played</p>
                          </div>
                          <div class="m-3" style="display: inline-block">
                            <h3 id="percentStat" style="position:relative">0%</h3>
                            <p style="position:relative">Win<br>%</p>
                          </div>
                          <div class="m-3" style="display: inline-block">
                            <h3 id="streakStat" style="position:relative">0</h3>
                            <p style="position:relative">Current<br>Streak</p>
                          </div>
                          <div class="m-3" style="display: inline-block">
                            <h3 id="maxStat" style="position:relative">0</h3>
                            <p style="position:relative">Max<br>Streak</p>
                          </div>
                        </div>
                        <canvas id="myChart" style="width:100%;max-width:600px"></canvas>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                      </div>
                    </div>
                  </div>
                </div>



                <!-- Button trigger modal -->
                <button type="button" class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#helpModal">
                  <h3 class="fa-solid fa-circle-question text-light text-end mt-3"></h3>
                </button>

                <!-- Modal -->
                <div class="modal fade" id="helpModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content text-bg-dark">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">How to Play</h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        <ol class="text-start">
                          <li>Listen to the intro for today's song</li>
                          <li>Take a guess by searching for the title and/or artist, or skip your turn</li>
                          <li>Incorrect attempts and skipped turns will unlock more of the intro</li>
                          <li>Answer in as few tries as possible and share your score to see who the Bollywood master is</li>
                          <li>Come back tomorrow for the next song (new round unlocked at midnight local time)</li>
                        </ol>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                      </div>
                    </div>
                  </div>
                </div>
                
              </div>
            </div>
          </div>

        <hr class="text-light">
        <div id="top">
        <!-- Guesses -->
        <div class="container">
            <div class="row mb-4 justify-content-center mx-1">
              <div id="guess1" class="col-md border border-white text-light" style="max-width: 540px; min-height:40px; display:block; overflow:auto;">
                <br>
              </div>
            </div>
            <div class="row mb-4 justify-content-center mx-1">
              <div id="guess2" class="col-md border border-white text-light" style="max-width: 540px; min-height:40px; display:block; overflow:auto;">
                  <br>
                </div>
            </div>
            <div class="row mb-4 justify-content-center mx-1">
              <div id="guess3" class="col-md border border-white text-light" style="max-width: 540px; min-height:40px; display:block; overflow:auto;">
                  <br>
                </div>
            </div>
            <div class="row mb-4 justify-content-center mx-1">
              <div id="guess4" class="col-md border border-white text-light" style="max-width: 540px; min-height:40px; display:block; overflow:auto;">
                  <br>
                </div>
            </div>
            <div class="row mb-4 justify-content-center mx-1">
              <div id="guess5" class="col-md border border-white text-light" style="max-width: 540px; min-height:40px; display:block; overflow:auto;">
                  <br>
                </div>
            </div>
              <div class="row mb-4 justify-content-center mx-1">
                <div id="guess6" class="col-md border border-white text-light" style="max-width: 540px; min-height:40px; display:block; overflow:auto;">
                  <br>
                </div>
            </div>  
        </div>
      
        <!-- Bottom Portion -->
        <div class="fixed-bottom  mx-2 bg-dark">

            <hr class="text-light">
            <div class="container">
                
                <!-- Progress Bar -->
                <div class="row mb-2">
                    <div class="progress p-0">
                        <div id="musicProgress" class="progress-bar" role="progressbar" style="width: 0%" aria-valuenow="15" aria-valuemin="0" aria-valuemax="20"></div>
                    </div>
                </div>

                <!-- Time and Play/Pause -->
                <div class="row">
                    <div class="col p-0">
                      <p class="text-left text-light">0</p>
                    </div>
                    <div class="col text-center" id="playPauseDiv">
                        <h1 class="fa-solid fa-play text-light" onclick="playSong()"></h1>
                      </div>
                    <div class="col text-end p-0">
                      <p id="progress_max" class="text-light text-end">4</p>
                    </div>
                </div>

                <!-- Search Box -->
                <div class="row  m-0" style="width: 100%">
                    <div id="searchWrapper" class="p-0 m-0 text-center">
                      <ul id="songsList" class="text-light bg-secondary p-2" style="position:absolute; z-index: 50; bottom:38%; list-style-type: none; visibility: hidden; text-align: left;"></ul>  
                      <input
                            style="width: 100%"
                            type="text"
                            name="searchBar"
                            id="searchBar"
                            placeholder="Search Title/Artist"
                            onfocus="searchBoxClear()"
                            onblur="searchBoxLoseFocus()"
                        />
                    </div>
                </div>

                <!-- Skip and Submit Buttons -->
                <div class="row  mt-3">
                    <div class="col p-0">
                        <button id="skipButton" onclick="skipGuess()" class="text-left text-light btn btn-primary">Skip (+2s)</button>
                    </div>
                    <div class="col text-end p-0">
                        <button id="submitButton" onclick="guessSong()" class="text-light text-end btn btn-success" disabled>Submit</button>
                    </div>
                </div>


            </div>

        </div>

      </div>

        <!-- Hidden Sound Cloud -->
        <!-- <iframe name="130" id="soundcloudPlayer" allow="autoplay" width = "0" height="0" src="https://w.soundcloud.com/player/?url=https://soundcloud.com/impure-spirit/saadi-gali-aaja-ayushmann&amp;show_teaser=false&amp;cache=130"></iframe> -->
        <iframe name="130" id="soundcloudPlayer" allow="autoplay" width = "0" height="0" src=""></iframe>
        <!-- Scripts -->
        <script src="soundcloudScript.js"></script>
        <script src="index.js"></script>
        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    </body>
</html>